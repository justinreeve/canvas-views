"use strict";function initConfigDefaults(){void 0===config.escapeMode&&(config.escapeMode=!0),config.attributePrefix=config.attributePrefix||"_",config.arrayAccessForm=config.arrayAccessForm||"none",config.emptyNodeForm=config.emptyNodeForm||"text",void 0===config.enableToStringFunc&&(config.enableToStringFunc=!0),config.arrayAccessFormPaths=config.arrayAccessFormPaths||[],void 0===config.skipEmptyTextNodesForObj&&(config.skipEmptyTextNodesForObj=!0),void 0===config.stripWhitespaces&&(config.stripWhitespaces=!0),config.datetimeAccessFormPaths=config.datetimeAccessFormPaths||[],void 0===config.useDoubleQuotes&&(config.useDoubleQuotes=!1),config.xmlElementsFilter=config.xmlElementsFilter||[],config.jsonPropertiesFilter=config.jsonPropertiesFilter||[],void 0===config.keepCData&&(config.keepCData=!1)}function initRequiredPolyfills(){}function getNodeLocalName(a){var b=a.localName;return null==b&&(b=a.baseName),null!=b&&""!=b||(b=a.nodeName),b}function getNodePrefix(a){return a.prefix}function escapeXmlChars(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):a}function unescapeXmlChars(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}function checkInStdFiltersArrayForm(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];if("string"==typeof f){if(f==d)break}else if(f instanceof RegExp){if(f.test(d))break}else if("function"==typeof f&&f(b,c,d))break}return e!=a.length}function toArrayAccessForm(a,b,c){switch(config.arrayAccessForm){case"property":a[b]instanceof Array?a[b+"_asArray"]=a[b]:a[b+"_asArray"]=[a[b]]}!(a[b]instanceof Array)&&config.arrayAccessFormPaths.length>0&&checkInStdFiltersArrayForm(config.arrayAccessFormPaths,a,b,c)&&(a[b]=[a[b]])}function fromXmlDateTime(a){var b=a.split(/[-T:+Z]/g),c=new Date(b[0],b[1]-1,b[2]),d=b[5].split(".");if(c.setHours(b[3],b[4],d[0]),d.length>1&&c.setMilliseconds(d[1]),b[6]&&b[7]){var e=60*b[6]+Number(b[7]),f=/\d\d-\d\d:\d\d$/.test(a)?"-":"+";e=0+("-"==f?-1*e:e),c.setMinutes(c.getMinutes()-e-c.getTimezoneOffset())}else a.indexOf("Z",a.length-1)!==-1&&(c=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())));return c}function checkFromXmlDateTimePaths(a,b,c){if(config.datetimeAccessFormPaths.length>0){var d=c.split(".#")[0];return checkInStdFiltersArrayForm(config.datetimeAccessFormPaths,a,b,d)?fromXmlDateTime(a):a}return a}function checkXmlElementsFilter(a,b,c,d){return!(b==DOMNodeTypes.ELEMENT_NODE&&config.xmlElementsFilter.length>0)||checkInStdFiltersArrayForm(config.xmlElementsFilter,a,c,d)}function parseDOMChildren(a,b){if(a.nodeType==DOMNodeTypes.DOCUMENT_NODE){for(var c=new Object,d=a.childNodes,e=0;e<d.length;e++){var f=d.item(e);if(f.nodeType==DOMNodeTypes.ELEMENT_NODE){var g=getNodeLocalName(f);c[g]=parseDOMChildren(f,g)}}return c}if(a.nodeType==DOMNodeTypes.ELEMENT_NODE){var c=new Object;c.__cnt=0;for(var d=a.childNodes,e=0;e<d.length;e++){var f=d.item(e),g=getNodeLocalName(f);if(f.nodeType!=DOMNodeTypes.COMMENT_NODE){var h=b+"."+g;checkXmlElementsFilter(c,f.nodeType,g,h)&&(c.__cnt++,null==c[g]?(c[g]=parseDOMChildren(f,h),toArrayAccessForm(c,g,h)):(null!=c[g]&&(c[g]instanceof Array||(c[g]=[c[g]],toArrayAccessForm(c,g,h))),c[g][c[g].length]=parseDOMChildren(f,h)))}}for(var i=0;i<a.attributes.length;i++){var j=a.attributes.item(i);c.__cnt++,c[config.attributePrefix+j.name]=j.value}var k=getNodePrefix(a);return null!=k&&""!=k&&(c.__cnt++,c.__prefix=k),null!=c["#text"]&&(c.__text=c["#text"],c.__text instanceof Array&&(c.__text=c.__text.join("\n")),config.stripWhitespaces&&(c.__text=c.__text.trim()),delete c["#text"],"property"==config.arrayAccessForm&&delete c["#text_asArray"],c.__text=checkFromXmlDateTimePaths(c.__text,g,b+"."+g)),null!=c["#cdata-section"]&&(c.__cdata=c["#cdata-section"],delete c["#cdata-section"],"property"==config.arrayAccessForm&&delete c["#cdata-section_asArray"]),0==c.__cnt&&"text"==config.emptyNodeForm?c="":1==c.__cnt&&null!=c.__text?c=c.__text:1!=c.__cnt||null==c.__cdata||config.keepCData?c.__cnt>1&&null!=c.__text&&config.skipEmptyTextNodesForObj&&(config.stripWhitespaces&&""==c.__text||""==c.__text.trim())&&delete c.__text:c=c.__cdata,delete c.__cnt,!config.enableToStringFunc||null==c.__text&&null==c.__cdata||(c.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),c}if(a.nodeType==DOMNodeTypes.TEXT_NODE||a.nodeType==DOMNodeTypes.CDATA_SECTION_NODE)return a.nodeValue}function startTag(a,b,c,d){var e="<"+(null!=a&&null!=a.__prefix?a.__prefix+":":"")+b;if(null!=c)for(var f=0;f<c.length;f++){var g=c[f],h=a[g];config.escapeMode&&(h=escapeXmlChars(h)),e+=" "+g.substr(config.attributePrefix.length)+"=",e+=config.useDoubleQuotes?'"'+h+'"':"'"+h+"'"}return e+=d?"/>":">"}function endTag(a,b){return"</"+(null!=a.__prefix?a.__prefix+":":"")+b+">"}function endsWith(a,b){return a.indexOf(b,a.length-b.length)!==-1}function jsonXmlSpecialElem(a,b){return!!("property"==config.arrayAccessForm&&endsWith(b.toString(),"_asArray")||0==b.toString().indexOf(config.attributePrefix)||0==b.toString().indexOf("__")||a[b]instanceof Function)}function jsonXmlElemCount(a){var b=0;if(a instanceof Object)for(var c in a)jsonXmlSpecialElem(a,c)||b++;return b}function checkJsonObjPropertiesFilter(a,b,c){return 0==config.jsonPropertiesFilter.length||""==c||checkInStdFiltersArrayForm(config.jsonPropertiesFilter,a,b,c)}function parseJSONAttributes(a){var b=[];if(a instanceof Object)for(var c in a)c.toString().indexOf("__")==-1&&0==c.toString().indexOf(config.attributePrefix)&&b.push(c);return b}function parseJSONTextAttrs(a){var b="";return null!=a.__cdata&&(b+="<![CDATA["+a.__cdata+"]]>"),null!=a.__text&&(b+=config.escapeMode?escapeXmlChars(a.__text):a.__text),b}function parseJSONTextObject(a){var b="";return a instanceof Object?b+=parseJSONTextAttrs(a):null!=a&&(b+=config.escapeMode?escapeXmlChars(a):a),b}function getJsonPropertyPath(a,b){return""===a?b:a+"."+b}function parseJSONArray(a,b,c,d){var e="";if(0==a.length)e+=startTag(a,b,c,!0);else for(var f=0;f<a.length;f++)e+=startTag(a[f],b,parseJSONAttributes(a[f]),!1),e+=parseJSONObject(a[f],getJsonPropertyPath(d,b)),e+=endTag(a[f],b);return e}function parseJSONObject(a,b){var c="",d=jsonXmlElemCount(a);if(d>0)for(var e in a)if(!jsonXmlSpecialElem(a,e)&&(""==b||checkJsonObjPropertiesFilter(a,e,getJsonPropertyPath(b,e)))){var f=a[e],g=parseJSONAttributes(f);if(null==f||void 0==f)c+=startTag(f,e,g,!0);else if(f instanceof Object)if(f instanceof Array)c+=parseJSONArray(f,e,g,b);else if(f instanceof Date)c+=startTag(f,e,g,!1),c+=f.toISOString(),c+=endTag(f,e);else{var h=jsonXmlElemCount(f);h>0||null!=f.__text||null!=f.__cdata?(c+=startTag(f,e,g,!1),c+=parseJSONObject(f,getJsonPropertyPath(b,e)),c+=endTag(f,e)):c+=startTag(f,e,g,!0)}else c+=startTag(f,e,g,!1),c+=parseJSONTextObject(f),c+=endTag(f,e)}return c+=parseJSONTextObject(a)}function registerElementsForTemplate(a,b){var c=CanvasViewUtils.titlecase(a),d=$.parseXML(b),e=parseDOMChildren(d);console.log("template object: %o",CanvasView[c]),console.log(e),$(b).each(function(a){console.log($(this))})}function getTemplateNameForPath(a){for(var b=CVConfig.pages,c=0;c<b.length;c++)if(b[c].hasOwnProperty("path")&&b[c].path==a)return b[c].template;return null}var config=config||{};initConfigDefaults(),initRequiredPolyfills();var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},CVConfig={host:"https://canvasassets.wsd.net/development/",pages:[{name:"login",path:"/login/canvas",template:"login"}]};$(function(){var a,b=$("html");a=getTemplateNameForPath(window.location.pathname),null!==a&&(b.addClass("loading"),$.ajax({url:CVConfig.host+"views/"+a+".html",method:"GET",cache:!1}).done(function(c){registerElementsForTemplate(a,c),b.removeClass("loading")}).fail(function(){b.removeClass("loading")}))});var CanvasViewUtils={titlecase:function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},inArrayOfObjects:function(a,b,c){for(var d=0;d<c.length;d++)if(c[d].hasOwnProperty(a)&&c[d][a]==b)return!0;return!1}},loginForm=$("form#login_form"),studentLogin=$("a.ic-Login__sso-button--google"),parentLogin=$("button.Button--primary.Button--login"),studentSectionHeader="<h2>Students</h2>",parentSectionHeader="<h2>Parents</h2>",horizontalRule="<hr />";console.log(ENV);var CanvasView=new Object,Login=new Object;Login.container=$(".ic-Login__container"),Login.formLogin=Login.container.find("form#login_form"),Login.googleLogin=Login.formLogin.find("a.ic-Login__sso-button--google"),Login.canvasLogin=Login.formLogin.find("button.Button--primary.Button--login"),CanvasView.Login=Login;